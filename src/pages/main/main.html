<ion-header>
  <div style="background-color: #EA3F33;">
    <mat-grid-list cols="12">
      <mat-grid-tile [colspan]="tile.sidemenu.cols" [rowspan]="tile.sidemenu.rows">
        <button clear large color="light" ion-button menuToggle>
          <ion-icon style="transform: rotate(180deg);font-size: 33px;" ios="ios-list" md="md-list"></ion-icon>
        </button>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="tile.title.cols" [rowspan]="tile.title.rows">
        <button block style="text-align: left; text-transform:none" ion-button clear color="light">Set Delivery Location
          <br> Tap here to select delivery location </button>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="tile.cart.cols" [rowspan]="tile.cart.rows">
        <button clear large color="light" (click)="proceedToCheckou()" ion-button >

          <ion-icon style="font-size: 33px; " ios="ios-cart" md="md-cart"></ion-icon>
          <div *ngIf="totalSelectedProduct > 0" style="margin-top: -17px;margin-left: -1px;">
            <ion-badge style="background-color: #EA3F33;border-style: solid;border-width: 2px;border-radius: 43%; ">{{totalSelectedProduct}}
            </ion-badge>
          </div>
        </button>
      </mat-grid-tile>

      <mat-grid-tile style="margin-left: 4%;" [colspan]="tile.category.cols" [rowspan]="tile.category.rows">
        <button ion-button color="light" round>Categories</button>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="tile.search.cols" [rowspan]="tile.search.rows">


        <mat-form-field class="form-field">
          <input matInput type="text" placeholder="Search Product" [(ngModel)]="value" />
          <ion-icon style="font-size: 18px;" color="light" matPrefix ios="ios-search" md="md-search"></ion-icon>
        </mat-form-field>


      </mat-grid-tile>
    </mat-grid-list>
  </div>
  <div style="background-color: #C8C8C8;">

    <mat-grid-list cols="12" rowHeight="40px">
      <mat-grid-tile colspan="4" rowspan="1">
        <p style="text-align: left;">{{productList.length}} Products</p>
      </mat-grid-tile>

      <mat-grid-tile colspan="4" rowspan="1">
      </mat-grid-tile>

      <mat-grid-tile colspan="4" rowspan="1">
        <button style="border-radius: 5%; text-transform:none" ion-button icon-start color="light">
          <ion-icon ios="ios-funnel" md="md-funnel"></ion-icon>
          Filter
        </button>
      </mat-grid-tile>
    </mat-grid-list>

  </div>


  <div style="font-size: small;">
    <button (click)="filterProductByCatogeries(category.id, catIndex)" style="text-transform:none; margin: 7px 3px;" [color]="category.select ? 'lightblue': 'lightdark'" ion-button small
      *ngFor="let category of productCategories; let catIndex= index">{{category.name}}</button>
  </div>
</ion-header>

<ion-content>
  

  <ion-card *ngFor="let product of filteredProductList; let productIndex=index;">
    <ion-row no-padding style="align-self: center;">
      <ion-col class="container" col-5 style="text-align: -webkit-center;">
        <img style="height: 100px; width: auto;" [src]="product.productImg" />
        <div class="top-right">
          <div class="zigzag">
            <div style="font-size: 10px; font-weight: bold; margin-top: 18%;"> {{product.productDiscount}} % <br>OFF</div>
            
          </div>
        
        </div>
      </ion-col>
      <ion-col col-7 no-padding>
        <ion-card-content>
          <ion-card-title no-padding style="font-weight: bold; font-size: 14px;">{{product.productName}}
          </ion-card-title>
          <p style="font-weight: bold; font-size: 14px;">₹ {{product.discountPrice}} &nbsp; &nbsp;<span
              style="font-weight: normal; font-size: 12px;"><s>₹ {{product.productMrp}}</s> </span></p>
          <p style="font-weight: bold; font-size: 14px; color: #72BB7B;">You saved ₹ {{product.savedAmount}}</p>
        </ion-card-content>
      </ion-col>
    </ion-row>
    <ion-row no-padding>
      <ion-col offset-8 col-4 style="text-align: -webkit-center;">
        <button *ngIf="product.selectedProduct < 1" (click)="addProductToCart(productIndex)" ion-button
          color="lightblue" icon-end>
          Add
          <ion-icon ios="ios-add" md="md-add"></ion-icon>
        </button>




        <ion-row no-padding *ngIf="product.selectedProduct >= 1">
          <ion-col col-5 no-padding>
            <button (click)="substractCartProductvalue(productIndex)" ion-button small color="danger" color="lightblue"
              icon-only>
              <ion-icon ios="ios-remove" md="md-remove"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-2 no-padding style="display: flex;justify-content: center;        align-items: center;">
            <ion-badge class="center" color="light" style="font-size:18px; ">{{product.selectedProduct}}</ion-badge>
          </ion-col>
          <ion-col col-5 no-padding>
            <button (click)="addCartProductvalue(productIndex)" small ion-button color="danger" color="lightblue"
              icon-only>
              <ion-icon ios="ios-add" md="md-add"></ion-icon>
            </button>
          </ion-col>

        </ion-row>
      </ion-col>
    </ion-row>

  </ion-card>

  
</ion-content>